<?phprequire_once FILE_ACCESS_CORE_CODE.'/Framework/MVC_superClasses_Core/viewSuperClass_Core/viewSuperClass_Core.php';class view extends viewSuperClass_Core{	public $news_or_events;	public $articles;	public $article;		public $news;	public $events;	public $template_location;		public $previous;	public $next;		public $archive;		public function __construct()	{		$current_page_id = routes::getInstance()->getCurrentTopLevelURLName();		$this->template_location = "Project/".DOMAIN."/Design/Pages/primary/seafarers/templates/";	}		public function displayMainTemplate()	{		$content = $this->renderTemplate($this->template_location."page_template.phtml");		response::getInstance()->addContentToTree(array("MAIN_CONTENT" => $content));			$content = $this->renderTemplate($this->template_location."inpage_javascript.js");		response::getInstance()->addContentToStack("local_javascript_bottom", array("" => $content) );			$content = $this->renderTemplate($this->template_location."css_links.phtml");		response::getInstance()->addContentToStack("local_css", array("" => $content) );	}			public function displayNewsTemplate()	{		$content = $this->renderTemplate($this->template_location."seafarers.phtml");		response::getInstance()->addContentToTree(array('MAIN_CONTENT'=>$content));				$content = $this->renderTemplate($this->template_location."css_links.phtml");		response::getInstance()->addContentToStack("local_css", array("" => $content));	}			public function  shorten_string($string, $word_count)	{		$retval = $string;		$string = preg_replace('/(?<=\S,)(?=\S)/', ' ', $string);		$string = str_replace("\n", " ", $string);		$array  = explode(" ", $string);			if (count($array) <= $word_count)		{			$retval = $string;		}		else		{			array_splice($array, $word_count);			$retval = implode(" ", $array)." ...";		}			return $retval;	}}